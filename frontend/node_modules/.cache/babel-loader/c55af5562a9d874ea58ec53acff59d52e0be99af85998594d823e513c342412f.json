{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Quant\\\\Documents\\\\Programming\\\\Projects\\\\Pokemon\\\\frontend\\\\src\\\\context\\\\PokemonHistoryContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MAX_HISTORY = 20;\nconst PokemonHistoryContext = /*#__PURE__*/createContext();\nexport function PokemonHistoryProvider({\n  children\n}) {\n  _s();\n  const [searchHistory, setSearchHistory] = useState([]);\n\n  // Load history on mount\n  useEffect(() => {\n    const history = JSON.parse(localStorage.getItem('pokemonSearchHistory') || '[]');\n    setSearchHistory(history);\n  }, []);\n  const addToHistory = pokemon => {\n    setSearchHistory(prevHistory => {\n      // Remove if already exists to avoid duplicates\n      const filteredHistory = prevHistory.filter(p => p.Name !== pokemon.Name);\n      // Add to beginning of array and limit length\n      const newHistory = [pokemon, ...filteredHistory].slice(0, MAX_HISTORY);\n      localStorage.setItem('pokemonSearchHistory', JSON.stringify(newHistory));\n      return newHistory;\n    });\n  };\n  const removeFromHistory = pokemonName => {\n    setSearchHistory(prevHistory => {\n      const newHistory = prevHistory.filter(p => p.Name !== pokemonName);\n      localStorage.setItem('pokemonSearchHistory', JSON.stringify(newHistory));\n      return newHistory;\n    });\n  };\n  const clearHistory = () => {\n    setSearchHistory([]);\n    localStorage.setItem('pokemonSearchHistory', '[]');\n  };\n  return /*#__PURE__*/_jsxDEV(PokemonHistoryContext.Provider, {\n    value: {\n      searchHistory,\n      addToHistory,\n      removeFromHistory,\n      clearHistory\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n}\n_s(PokemonHistoryProvider, \"x4lpyl2EUfakAa2FkDoTay9HLYQ=\");\n_c = PokemonHistoryProvider;\nexport function usePokemonHistory() {\n  _s2();\n  const context = useContext(PokemonHistoryContext);\n  if (!context) {\n    throw new Error('usePokemonHistory must be used within a PokemonHistoryProvider');\n  }\n  return context;\n}\n_s2(usePokemonHistory, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nvar _c;\n$RefreshReg$(_c, \"PokemonHistoryProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","jsxDEV","_jsxDEV","MAX_HISTORY","PokemonHistoryContext","PokemonHistoryProvider","children","_s","searchHistory","setSearchHistory","history","JSON","parse","localStorage","getItem","addToHistory","pokemon","prevHistory","filteredHistory","filter","p","Name","newHistory","slice","setItem","stringify","removeFromHistory","pokemonName","clearHistory","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","usePokemonHistory","_s2","context","Error","$RefreshReg$"],"sources":["C:/Users/Quant/Documents/Programming/Projects/Pokemon/frontend/src/context/PokemonHistoryContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\r\n\r\nconst MAX_HISTORY = 20;\r\nconst PokemonHistoryContext = createContext();\r\n\r\nexport function PokemonHistoryProvider({ children }) {\r\n    const [searchHistory, setSearchHistory] = useState([]);\r\n\r\n    // Load history on mount\r\n    useEffect(() => {\r\n        const history = JSON.parse(localStorage.getItem('pokemonSearchHistory') || '[]');\r\n        setSearchHistory(history);\r\n    }, []);\r\n\r\n    const addToHistory = (pokemon) => {\r\n        setSearchHistory(prevHistory => {\r\n            // Remove if already exists to avoid duplicates\r\n            const filteredHistory = prevHistory.filter(p => p.Name !== pokemon.Name);\r\n            // Add to beginning of array and limit length\r\n            const newHistory = [pokemon, ...filteredHistory].slice(0, MAX_HISTORY);\r\n            localStorage.setItem('pokemonSearchHistory', JSON.stringify(newHistory));\r\n            return newHistory;\r\n        });\r\n    };\r\n\r\n    const removeFromHistory = (pokemonName) => {\r\n        setSearchHistory(prevHistory => {\r\n            const newHistory = prevHistory.filter(p => p.Name !== pokemonName);\r\n            localStorage.setItem('pokemonSearchHistory', JSON.stringify(newHistory));\r\n            return newHistory;\r\n        });\r\n    };\r\n\r\n    const clearHistory = () => {\r\n        setSearchHistory([]);\r\n        localStorage.setItem('pokemonSearchHistory', '[]');\r\n    };\r\n\r\n    return (\r\n        <PokemonHistoryContext.Provider value={{\r\n            searchHistory,\r\n            addToHistory,\r\n            removeFromHistory,\r\n            clearHistory\r\n        }}>\r\n            {children}\r\n        </PokemonHistoryContext.Provider>\r\n    );\r\n}\r\n\r\nexport function usePokemonHistory() {\r\n    const context = useContext(PokemonHistoryContext);\r\n    if (!context) {\r\n        throw new Error('usePokemonHistory must be used within a PokemonHistoryProvider');\r\n    }\r\n    return context;\r\n} "],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9E,MAAMC,WAAW,GAAG,EAAE;AACtB,MAAMC,qBAAqB,gBAAGP,aAAa,CAAC,CAAC;AAE7C,OAAO,SAASQ,sBAAsBA,CAAC;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EACjD,MAAM,CAACC,aAAa,EAAEC,gBAAgB,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;;EAEtD;EACAC,SAAS,CAAC,MAAM;IACZ,MAAMU,OAAO,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,sBAAsB,CAAC,IAAI,IAAI,CAAC;IAChFL,gBAAgB,CAACC,OAAO,CAAC;EAC7B,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMK,YAAY,GAAIC,OAAO,IAAK;IAC9BP,gBAAgB,CAACQ,WAAW,IAAI;MAC5B;MACA,MAAMC,eAAe,GAAGD,WAAW,CAACE,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,IAAI,KAAKL,OAAO,CAACK,IAAI,CAAC;MACxE;MACA,MAAMC,UAAU,GAAG,CAACN,OAAO,EAAE,GAAGE,eAAe,CAAC,CAACK,KAAK,CAAC,CAAC,EAAEpB,WAAW,CAAC;MACtEU,YAAY,CAACW,OAAO,CAAC,sBAAsB,EAAEb,IAAI,CAACc,SAAS,CAACH,UAAU,CAAC,CAAC;MACxE,OAAOA,UAAU;IACrB,CAAC,CAAC;EACN,CAAC;EAED,MAAMI,iBAAiB,GAAIC,WAAW,IAAK;IACvClB,gBAAgB,CAACQ,WAAW,IAAI;MAC5B,MAAMK,UAAU,GAAGL,WAAW,CAACE,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,IAAI,KAAKM,WAAW,CAAC;MAClEd,YAAY,CAACW,OAAO,CAAC,sBAAsB,EAAEb,IAAI,CAACc,SAAS,CAACH,UAAU,CAAC,CAAC;MACxE,OAAOA,UAAU;IACrB,CAAC,CAAC;EACN,CAAC;EAED,MAAMM,YAAY,GAAGA,CAAA,KAAM;IACvBnB,gBAAgB,CAAC,EAAE,CAAC;IACpBI,YAAY,CAACW,OAAO,CAAC,sBAAsB,EAAE,IAAI,CAAC;EACtD,CAAC;EAED,oBACItB,OAAA,CAACE,qBAAqB,CAACyB,QAAQ;IAACC,KAAK,EAAE;MACnCtB,aAAa;MACbO,YAAY;MACZW,iBAAiB;MACjBE;IACJ,CAAE;IAAAtB,QAAA,EACGA;EAAQ;IAAAyB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACmB,CAAC;AAEzC;AAAC3B,EAAA,CA3CeF,sBAAsB;AAAA8B,EAAA,GAAtB9B,sBAAsB;AA6CtC,OAAO,SAAS+B,iBAAiBA,CAAA,EAAG;EAAAC,GAAA;EAChC,MAAMC,OAAO,GAAGxC,UAAU,CAACM,qBAAqB,CAAC;EACjD,IAAI,CAACkC,OAAO,EAAE;IACV,MAAM,IAAIC,KAAK,CAAC,gEAAgE,CAAC;EACrF;EACA,OAAOD,OAAO;AAClB;AAACD,GAAA,CANeD,iBAAiB;AAAA,IAAAD,EAAA;AAAAK,YAAA,CAAAL,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}